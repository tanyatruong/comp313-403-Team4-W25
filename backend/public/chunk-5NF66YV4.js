import{a as L}from"./chunk-5QXS5R2B.js";import{i as D,o as R}from"./chunk-UZ33E2QP.js";import{b as z,c as q,e as B}from"./chunk-YCHOBINP.js";import{A as u,K as w,M as a,N as b,Ua as U,W as v,Y as c,Ya as I,ba as n,ca as r,da as g,ha as S,ia as f,ja as d,jb as T,lb as O,mb as N,nb as k,ob as V,pb as P,qa as y,qb as F,ra as l,rb as W,sa as E,v as C,va as x,vb as j,wa as _,xa as h,z as p,za as M}from"./chunk-WZJY7RPV.js";function H(o,s){if(o&1&&(n(0,"div",7)(1,"div",8),l(2),r()()),o&2){let t=d();a(2),E(t.errorMessage)}}function G(o,s){o&1&&(n(0,"div",9),g(1,"i",10),n(2,"p"),l(3,"Loading user details..."),r()())}function Y(o,s){if(o&1){let t=S();n(0,"form",11,0),f("ngSubmit",function(){p(t);let e=d();return u(e.saveUser())}),n(2,"div",12)(3,"label",13),l(4,"Name"),r(),n(5,"input",14),h("ngModelChange",function(e){p(t);let m=d();return _(m.user.name,e)||(m.user.name=e),u(e)}),r()(),n(6,"div",12)(7,"label",15),l(8,"Email"),r(),n(9,"input",16),h("ngModelChange",function(e){p(t);let m=d();return _(m.user.email,e)||(m.user.email=e),u(e)}),r()(),n(10,"div",12)(11,"label",17),l(12,"Phone"),r(),n(13,"input",18),h("ngModelChange",function(e){p(t);let m=d();return _(m.user.phone,e)||(m.user.phone=e),u(e)}),r()(),n(14,"div",19)(15,"button",20),f("click",function(){p(t);let e=d();return u(e.cancel())}),r(),g(16,"button",21),r()()}if(o&2){let t=y(1),i=d();a(5),x("ngModel",i.user.name),a(4),x("ngModel",i.user.email),a(4),x("ngModel",i.user.phone),a(3),c("disabled",!t.valid)}}function J(o,s){o&1&&(n(0,"div",22),g(1,"iframe",23),r())}var A=class o{constructor(s,t){this.userService=s;this.routerService=t}user=null;statusOptions=z;priorityOptions=q;categoryOptions=B;errorMessage="";showChatbot=!1;ngOnInit(){this.user=this.userService.getLoggedInUser(),this.user||(this.errorMessage="No user selected for editing",setTimeout(()=>this.routerService.navigateToHome(),2e3))}saveUser(){if(!this.user){this.errorMessage="No user to save";return}this.userService.updateUser(this.user._id,this.user).subscribe(s=>{console.log("User updated successfully",s),this.routerService.navigateToHome()},s=>{console.error("Error updating user:",s),this.errorMessage="Failed to update user"})}cancel(){this.routerService.navigateToHome()}static \u0275fac=function(t){return new(t||o)(b(L),b(j))};static \u0275cmp=C({type:o,selectors:[["app-user-edit"]],standalone:!0,features:[M],decls:9,vars:4,consts:[["userForm","ngForm"],[1,"surface-card","shadow-2","border-round","my-5","mx-6","p-4"],["class","p-message p-message-error mb-3",4,"ngIf"],["class","p-4 text-center",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[2,"position","fixed","bottom","25px","right","25px","z-index","1000","background-color","#6C63FF","color","white","border","none","padding","16px 20px","font-size","16px","border-radius","50px","box-shadow","0 4px 8px rgba(0,0,0,0.2)","cursor","pointer",3,"click"],["style",`
  position: fixed;
  bottom: 90px;
  right: 25px;
  width: 400px;
  height: 600px;
  z-index: 999;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  border-radius: 10px;
  overflow: hidden;
  background: white;
`,4,"ngIf"],[1,"p-message","p-message-error","mb-3"],[1,"p-message-text"],[1,"p-4","text-center"],[1,"pi","pi-spin","pi-spinner",2,"font-size","2rem"],[3,"ngSubmit"],[1,"field","mb-4"],["for","name",1,"block","font-medium","mb-2"],["id","name","type","text","pInputText","","name","name","required","",1,"w-full",3,"ngModelChange","ngModel"],["for","email",1,"block","font-medium","mb-2"],["id","email","type","text","pInputText","","name","email","required","",1,"w-full",3,"ngModelChange","ngModel"],["for","phone",1,"block","font-medium","mb-2"],["id","phone","type","text","pInputText","","name","phone","required","",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","justify-content-end","mt-4"],["pButton","","type","button","label","Cancel","icon","pi pi-times",1,"p-button-outlined","p-button-secondary","mr-2",3,"click"],["pButton","","type","submit","label","Save","icon","pi pi-check",3,"disabled"],[2,"position","fixed","bottom","90px","right","25px","width","400px","height","600px","z-index","999","box-shadow","0 4px 12px rgba(0,0,0,0.3)","border-radius","10px","overflow","hidden","background","white"],["width","100%","height","100%","allow","microphone *","src",w`https://www.gptbots.ai/widget/eeq5jnc8zz3glsfgnw7t8mq/chat.html`,2,"border","none"]],template:function(t,i){t&1&&(n(0,"div",1)(1,"h2"),l(2,"Edit User"),r(),v(3,H,3,1,"div",2)(4,G,4,0,"div",3)(5,Y,17,4,"form",4),n(6,"div",5),f("click",function(){return i.showChatbot=!i.showChatbot}),l(7,`
\u{1F4AC} Chat
`),r(),v(8,J,2,0,"div",6),r()),t&2&&(a(3),c("ngIf",i.errorMessage),a(),c("ngIf",!i.user),a(),c("ngIf",i.user),a(3),c("ngIf",i.showChatbot))},dependencies:[I,U,W,P,T,O,N,F,V,k,R,D],styles:[".field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#495057}.p-message-error[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c63737;padding:.75rem;border-radius:4px;margin-bottom:1rem}"]})};export{A as UserEditComponent};
