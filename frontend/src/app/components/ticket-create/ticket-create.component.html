<div class="surface-card shadow-2 border-round my-5 mx-6 p-4">
  <div class="flex justify-content-between align-items-center mb-4">
    <h1 class="text-2xl font-bold">Create New Ticket</h1>
    <button pButton label="Back" icon="pi pi-arrow-left" (click)="goBack()" class="p-button-outlined"></button>
  </div>

  <form (ngSubmit)="onSubmit()" #ticketForm="ngForm" class="p-fluid">
    <div class="field mb-4">
      <label for="title" class="font-bold block mb-2">Subject *</label>
      <input id="title" type="text" pInputText [(ngModel)]="newTicket.title" name="title" required
        placeholder="Enter a descriptive subject" class="w-full p-inputtext">
    </div>

    <div class="field mb-4">
      <label for="description" class="font-bold block mb-2">Description *</label>
      <textarea id="description" pInputTextarea [(ngModel)]="newTicket.description" name="description" required rows="5"
        placeholder="Provide details about your issue" class="w-full"></textarea>
    </div>

    <div class="field mb-4">
      <label for="category" class="font-bold block mb-2">Category *</label>
      <p-dropdown id="category" [options]="categoryOptions" [(ngModel)]="newTicket.category" name="category"
        placeholder="Select a category" [required]="true" optionLabel="label" optionValue="value"
        class="w-full"></p-dropdown>
    </div>

    <div class="field mb-4">
      <label for="priority" class="font-bold block mb-2">Priority *</label>
      <p-dropdown id="priority" [options]="priorityOptions" [(ngModel)]="newTicket.priority" name="priority"
        placeholder="Select priority level" [required]="true" optionLabel="label" optionValue="value"
        class="w-full"></p-dropdown>
    </div>

    <div class="flex justify-content-end mt-4">
      <button pButton type="button" label="Cancel" class="p-button-outlined p-button-secondary mr-2"
        (click)="goBack()"></button>
      <button pButton type="submit" label="Submit Ticket" [disabled]="!ticketForm.form.valid"
        icon="pi pi-check"></button>
    </div>
  </form>
  <!-- Floating Chatbot Toggle Button -->
<div 
(click)="showChatbot = !showChatbot"
style="
  position: fixed;
  bottom: 25px;
  right: 25px;
  z-index: 1000;
  background-color: #6C63FF;
  color: white;
  border: none;
  padding: 16px 20px;
  font-size: 16px;
  border-radius: 50px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  cursor: pointer;
">
ðŸ’¬ Chat
</div>

<!-- Floating Chatbot iframe -->
<div 
*ngIf="showChatbot" 
style="
  position: fixed;
  bottom: 90px;
  right: 25px;
  width: 400px;
  height: 600px;
  z-index: 999;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  border-radius: 10px;
  overflow: hidden;
  background: white;
">
<iframe 
  width="100%" 
  height="100%" 
  allow="microphone *" 
  src="https://www.gptbots.ai/widget/eeq5jnc8zz3glsfgnw7t8mq/chat.html"
  style="border: none;"
></iframe>
</div>

</div>